!function(t,n,i,e){"use strict";var o=function(){var t=i.body||i.documentElement;return t=t.style,""===t.WebkitTransition?"-webkit-":""===t.MozTransition?"-moz-":""===t.OTransition?"-o-":""===t.transition&&""},a=o()!==!1,r=function(t,n,i){var e={},a=o();e[a+"transform"]="translateX("+n+")",e[a+"transition"]=a+"transform "+i+"s linear",t.css(e)},c="ontouchstart"in n,u=n.navigator.pointerEnabled||n.navigator.msPointerEnabled,d=function(t){if(c)return!0;if(!u||"undefined"==typeof t||"undefined"==typeof t.pointerType)return!1;if("undefined"!=typeof t.MSPOINTER_TYPE_MOUSE){if(t.MSPOINTER_TYPE_MOUSE!==t.pointerType)return!0}else if("mouse"!==t.pointerType)return!0;return!1};t.fn.imageLightbox=function(e){var o=t.extend({selector:"a[data-imagelightbox]",id:"imagelightbox",allowedTypes:"png|jpg|jpeg||gif",animationSpeed:250,activity:!1,arrows:!1,button:!1,caption:!1,enableKeyboard:!0,lockBody:!1,navigation:!1,overlay:!1,preloadNext:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,quitOnEscKey:!0,onStart:function(){o.arrows&&T(this),o.navigation&&b(this,o.selector),o.overlay&&s(),o.button&&v(),o.lockBody&&g(!0)},onEnd:function(){o.activity&&l(),o.arrows&&k(),o.navigation&&E(),o.overlay&&p(),o.caption&&x(),o.button&&h(),o.lockBody&&g(!1)},onLoadStart:function(){o.activity&&f(),o.caption&&x()},onLoadEnd:function(){o.activity&&l(),o.arrows&&t(".imagelightbox-arrow").css("display","block"),o.navigation&&y(o.selector),o.caption&&m()},previousTarget:function(){return this.previousTargetDefault()},previousTargetDefault:function(){var t=w.index(S)-1;if(t<0){if(o.quitOnEnd===!0)return U(),!1;t=w.length-1}S=w.eq(t)},nextTarget:function(){return this.nextTargetDefault()},nextTargetDefault:function(){var t=w.index(S)+1;if(t>=w.length){if(o.quitOnEnd===!0)return U(),!1;t=0}S=w.eq(t)}},e),f=function(){t('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},l=function(){t("#imagelightbox-loading").remove()},g=function(n){n?t("body").css("overflow","hidden"):t("body").css("overflow","scroll")},s=function(){t('<div id="imagelightbox-overlay"></div>').appendTo("body")},p=function(){t("#imagelightbox-overlay").remove()},v=function(){t('<a href="#" id="imagelightbox-close"></a>').appendTo("body").on("click",function(){return t(this).remove(),U(),!1})},h=function(){t("#imagelightbox-close").remove()},m=function(){var n=t(S).find("img").attr("alt");n&&n.length>0&&t('<div id="imagelightbox-caption">'+n+"</div>").appendTo("body")},x=function(){t("#imagelightbox-caption").remove()},b=function(n,i){var e=t(i);if(e.length){for(var o=t('<div id="imagelightbox-nav"></div>'),a=0;a<e.length;a++)o.append('<a href="#"></a>');o.appendTo("body"),o.on("click touchend",function(){return!1});var r=o.find("a");r.on("click touchend",function(){var n=t(this);if(e.eq(n.index()).attr("href")!==t("#imagelightbox").attr("src")){var i=w.eq(n.index());if(i.length){var o=w.index(S);S=i,M(n.index()<o?"left":"right")}}return r.removeClass("active"),r.eq(n.index()).addClass("active"),!1}).on("touchend",function(){return!1})}},y=function(n){var i=t("#imagelightbox-nav").find("a");i.removeClass("active"),i.eq(t(n).filter('[href="'+t("#imagelightbox").attr("src")+'"]').index(n)).addClass("active")},E=function(){t("#imagelightbox-nav").remove()},T=function(n){var i=t('<button type="button" class="imagelightbox-arrow imagelightbox-arrow-left"></button><button type="button" class="imagelightbox-arrow imagelightbox-arrow-right"></button>');i.appendTo("body"),i.on("click touchend",function(i){return i.preventDefault(),t(this).hasClass("imagelightbox-arrow-left")?P(n):X(n),!1})},k=function(){t(".imagelightbox-arrow").remove()},w=t([]),S=t(),q=t(),O=0,C=0,I=0,D=!1,L=function(){if(!q.length)return!0;var i=.8*t(n).width(),e=n.innerHeight?n.innerHeight:t(n).height(),o=.9*e,a=new Image;a.src=q.attr("src"),a.onload=function(){if(O=a.width,C=a.height,O>i||C>o){var r=O/C>i/o?O/i:C/o;O/=r,C/=r}q.css({width:O+"px",height:C+"px",top:(e-C)/2+"px",left:(t(n).width()-O)/2+"px"})}},M=function(n){if(D)return!1;if(n="undefined"!=typeof n&&("left"===n?1:-1),q.length){var i={opacity:0};a?r(q,100*n-I+"px",o.animationSpeed/1e3):i.left=parseInt(q.css("left"))+100*n+"px",q.animate(i,o.animationSpeed,function(){N()}),I=0}D=!0,o.onLoadStart!==!1&&o.onLoadStart(),setTimeout(function(){var i=S.attr("href");q=t('<img id="'+o.id+'" />').attr("src",i).on("load",function(){var i={opacity:1};if(q.appendTo("body"),L(),q.css("opacity",0),a)r(q,-100*n+"px",0),setTimeout(function(){r(q,"0px",o.animationSpeed/1e3)},50);else{var e=parseInt(q.css("left"));i.left=e+"px",q.css("left",e-100*n+"px")}if(q.animate(i,o.animationSpeed,function(){D=!1,o.onLoadEnd!==!1&&o.onLoadEnd()}),o.preloadNext){var c=w.eq(w.index(S)+1);c.length||(c=w.eq(0)),t("<img />").attr("src",c.attr("href"))}}).on("error",function(){o.onLoadEnd!==!1&&o.onLoadEnd()});var e=0,c=0,f=0;q.on(u?"pointerup MSPointerUp":"click",function(t){if(t.preventDefault(),o.quitOnImgClick)return U(),!1;if(d(t.originalEvent))return!0;var n=(t.pageX||t.originalEvent.pageX)-t.target.offsetLeft;O/2>n?P():X()}).on("touchstart pointerdown MSPointerDown",function(t){return!(d(t.originalEvent)&&!o.quitOnImgClick)||(a&&(f=parseInt(q.css("left"))),void(e=t.originalEvent.pageX||t.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(t){return!(d(t.originalEvent)&&!o.quitOnImgClick)||(t.preventDefault(),c=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,I=e-c,void(a?r(q,-I+"px",0):q.css("left",f-I+"px")))}).on("touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",function(t){return!(d(t.originalEvent)&&!o.quitOnImgClick)||void(Math.abs(I)>50?I<0?P():X():a?r(q,"0px",o.animationSpeed/1e3):q.animate({left:f+"px"},o.animationSpeed/2))})},o.animationSpeed+100)},P=function(){o.previousTarget()!==!1&&M("left")},X=function(){o.nextTarget()!==!1&&M("right")},N=function(){return!!q.length&&(q.remove(),void(q=t()))},K=function(t){return!D&&(D=!1,o.onStart!==!1&&o.onStart(),S=t,void M())},U=function(){return!!q.length&&void q.animate({opacity:0},o.animationSpeed,function(){N(),D=!1,o.onEnd!==!1&&o.onEnd()})},_=function(n){n.each(function(){w=w.add(t(this))}),n.on("click",function(n){n.preventDefault(),K(t(this))})};return this.startImageLightbox=function(){this.length>0&&K(t(this[0]))},t(n).on("resize",L),t(i).ready(function(){o.quitOnDocClick&&t(i).on(c?"touchend":"click",function(n){q.length&&!t(n.target).is(q)&&(n.preventDefault(),U())}),o.enableKeyboard&&t(i).on("keyup",function(t){return!q.length||(t.preventDefault(),27===t.keyCode&&o.quitOnEscKey===!0&&U(),void(37===t.keyCode?P():39===t.keyCode&&X()))})}),t(i).off("click",this.selector),_(t(this)),this.loadPreviousImage=function(){P()},this.loadNextImage=function(){X()},this.quitImageLightbox=function(){return U(),this},this.addToImageLightbox=function(t){_(t)},this}}(jQuery,window,document);